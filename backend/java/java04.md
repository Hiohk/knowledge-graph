---
prev:
  text: "类和对象"
  link: "/backend/java/java03"

next:
  text: "异常"
  link: "/backend/java/java05"
---

# 4. 数组

## 4.1 数组概述

### 什么是数组？

* 在 Java 中，数组是一种用于存储多个相同数据类型元素的容器。
* 例如一个存储整数的数组：`int[] nums = {100, 200, 300};`
* 例如一个存储字符串的数组：`String[] names = {“jack”,“lucy”,“lisi”};`
* 数组是一种引用数据类型，隐式继承 Object。因此数组也可以调用 Object 类中的方法。
* 数组对象存储在堆内存中。
  

![alt text](image-8.png)

### 数组的分类？

* 根据维数进行分类：一维数组，二维数组，三维数组，多维数组。
* 根据数组中存储的元素类型分类：基本类型数组，引用类型数组。
* 根据数组初始化方式不同分类：静态数组，动态数组。

### Java 数组存储元素的特点？

* 数组长度一旦确定不可变。
* 数组中元素数据类型一致，每个元素占用空间大小相同。
* 数组中每个元素在空间存储上，内存地址是连续的。
* 每个元素有索引，首元素索引 0，以 1 递增。
* 以首元素的内存地址作为数组对象在堆内存中的地址。
* 所有数组对象都有 length 属性用来获取数组元素个数。末尾元素下标：length-1。

### 数组的优缺点

1. 数组优点
* 根据下标查询某个元素的效率极高。数组中有100个元素和有100万个元素，查询效率相同。时间复杂度O(1)。也就是说在数组中根据下标查询某个元素时，不管数组的长短，耗费时间是固定不变的。
* 原因：知道首元素内存地址，元素在空间存储上内存地址又是连续的，每个元素占用空间大小相同，只要知道下标，就可以通过数学表达式计算出来要查找元素的内存地址。直接通过内存地址定位元素。
2. 数组缺点
* 随机增删元素的效率较低。因为随机增删元素时，为了保证数组中元素的内存地址连续，就需要涉及到后续元素的位移问题。时间复杂度O(n)。O(n)表示的是线性阶，随着问题规模n的不断增大，时间复杂度不断增大，算法的执行效率越低。（不过需要注意的是：对数组末尾元素的增删效率是不受影响的。）
* 无法存储大量数据，因为很难在内存上找到非常大的一块连续的内存。

## 4.2 一维数组

1. 一维数组是线性结构。二维数组，三维数组，多维数组是非线性结构。
2. 如何静态初始化一维数组？
  + 第一种：`int[] arr = {55,67,22};` 或者 `int arr[] = {55,67,22};`
  + 第二种：`int[] arr = new int[]{55,67,22};`
3. 如何访问数组中的元素？
  + 通过下标来访问。
  + 注意 `ArrayIndexOutOfBoundsException` 异常的发生。
4. 如何遍历数组？
  + 普通for循环遍历
  + for-each遍历（优点是代码简洁。缺点是没有下标。）
5. 如何动态初始化一维数组？
  + `int[] arr = new int[4];`
  + `Object[] objs = new Object[5];`
  + 数组动态初始化的时候，确定长度，并且数组中每个元素采用默认值。

:::tip 
1. 方法在调用时如何给方法传一个数组对象？
  
```java
  // 方式一：
  int[] arr = {1,2,3,4};
  display(arr);
  // 方式二：
  display(new int[]{1,2,3,4});
  // 方式三：
  display(new int[10]);
   ```

2. 当一维数组中存储引用时的内存图
   ![alt text](image-9.png)
3. 如何获取数组中的最大值？
  + 假设首元素是最大的，然后遍历数组中所有元素，只要有更大的，就将其作为最大值。
  + 思考：找出最大值的下标怎么做？
4. 如果知道值，如何通过值找它的下标？
5. 如何将数组中的所有元素反转？
  + 第一种方式：创建一个新的数组。
  + 第二种方式：首位交换。
6. 关于 main 方法的形参 args？
  + 接收命令行参数
  + 在 DOS 命令窗口中怎么传？在 IDEA 中怎么传？
7. 关于方法的可变长度参数？
  + 可变长参数只能出现在形参列表中的最后一个位置。
  + 可变长参数可以当做数组来处理。

:::

### 一维数组的扩容
1. 数组长度一旦确定不可变。
2. 那数组应该如何扩容？
  - 只能创建一个更大的数组将原数组中的数据全部拷贝到新数组中;
  - 可以使用 `System.arraycopy()` 方法完成数组的拷贝。
3. 数组扩容会影响程序的执行效率，因此尽可能预测数据量，创建一个接近数量的数组，减少扩容次数。

## 4.3 二维数组

## 4.4 IDEA 的 Debug 调试

## 4.5 JUnit 单元测试

## 4.6 数据结构与算法

## 4.7 数组的排序算法

## 4.8 数组的查找算法

## 4.9 Arrays 工具类
